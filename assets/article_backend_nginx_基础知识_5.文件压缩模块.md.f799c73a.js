import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.25ff06b1.js";const F=JSON.parse('{"title":"原理介绍","description":"","frontmatter":{"author":"coder-li","tags":"nginx/modules/ngx_http_gzip_module 内核优化","aliases":null},"headers":[{"level":1,"title":"原理介绍","slug":"原理介绍","link":"#原理介绍","children":[]},{"level":1,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":1,"title":"测试","slug":"测试","link":"#测试","children":[]}],"relativePath":"article/backend/nginx/基础知识/5.文件压缩模块.md","filePath":"article/backend/nginx/基础知识/5.文件压缩模块.md","lastUpdated":1707839101000}'),l={name:"article/backend/nginx/基础知识/5.文件压缩模块.md"},o=p(`<h1 id="原理介绍" tabindex="-1">原理介绍 <a class="header-anchor" href="#原理介绍" aria-label="Permalink to &quot;原理介绍&quot;">​</a></h1><p>启动该模块，使文件传输前进行压缩，提升传输效率</p><h1 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-label="Permalink to &quot;语法&quot;">​</a></h1><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 默认 gzip off</span></span>
<span class="line"><span style="color:#6A737D;"># Context:http,server,location</span></span>
<span class="line"><span style="color:#B392F0;">gzip</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">off</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 压缩级别（1-9）,默认 gzip_comp_level 1;</span></span>
<span class="line"><span style="color:#6A737D;"># Context:http,server,location</span></span>
<span class="line"><span style="color:#B392F0;">gzip_comp_level</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">level</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 版本 默认 gzip_http_version 1.1</span></span>
<span class="line"><span style="color:#6A737D;"># Context:http,server,location</span></span>
<span class="line"><span style="color:#B392F0;">gzip_http_version</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.0</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">1.1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 默认 gzip off</span></span>
<span class="line"><span style="color:#6A737D;"># Context:http,server,location</span></span>
<span class="line"><span style="color:#6F42C1;">gzip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">off</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 压缩级别（1-9）,默认 gzip_comp_level 1;</span></span>
<span class="line"><span style="color:#6A737D;"># Context:http,server,location</span></span>
<span class="line"><span style="color:#6F42C1;">gzip_comp_level</span><span style="color:#24292E;"> </span><span style="color:#032F62;">level</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 版本 默认 gzip_http_version 1.1</span></span>
<span class="line"><span style="color:#6A737D;"># Context:http,server,location</span></span>
<span class="line"><span style="color:#6F42C1;">gzip_http_version</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.0</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">1.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>压缩级别越高，说明压缩的文件越小，但所需的时间也越长，这是一个矛盾的问题，选择合适的压缩级别</p><h1 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to &quot;测试&quot;">​</a></h1><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">http</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">gzip</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">gzip_http_version</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">gzip_comp_level</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">gzip_types</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">text/plain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">application/javascript</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">application/x-javascript</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">text/css</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">application/xml</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">text/javascript</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">application/x-httpd-php</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">image/jpeg</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">image/gif</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">image/png</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">#设置要压缩的文件类型</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">gzip_static</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">on</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">#打开静态压缩</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">http</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">gzip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">gzip_http_version</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">gzip_comp_level</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">gzip_types</span><span style="color:#24292E;"> </span><span style="color:#032F62;">text/plain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">application/javascript</span><span style="color:#24292E;"> </span><span style="color:#032F62;">application/x-javascript</span><span style="color:#24292E;"> </span><span style="color:#032F62;">text/css</span><span style="color:#24292E;"> </span><span style="color:#032F62;">application/xml</span><span style="color:#24292E;"> </span><span style="color:#032F62;">text/javascript</span><span style="color:#24292E;"> </span><span style="color:#032F62;">application/x-httpd-php</span><span style="color:#24292E;"> </span><span style="color:#032F62;">image/jpeg</span><span style="color:#24292E;"> </span><span style="color:#032F62;">image/gif</span><span style="color:#24292E;"> </span><span style="color:#032F62;">image/png</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">#设置要压缩的文件类型</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">gzip_static</span><span style="color:#24292E;"> </span><span style="color:#032F62;">on</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">#打开静态压缩</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>准备1.html <img src="https://cdn.jsdelivr.net/gh/lijing-2008/PicGo/img/20220112213510.png" alt=""> 配置前查看网络访问结果为385k <img src="https://cdn.jsdelivr.net/gh/lijing-2008/PicGo/img/20220112213957.png" alt=""> 配置后查看网络访问结果为2.8k <img src="https://cdn.jsdelivr.net/gh/lijing-2008/PicGo/img/20220112213637.png" alt=""></p><blockquote><p>nginx的文件压缩不是万能的，不是什么都可以压</p></blockquote>`,9),e=[o];function t(c,r,i,y,E,d){return n(),a("div",null,e)}const h=s(l,[["render",t]]);export{F as __pageData,h as default};
